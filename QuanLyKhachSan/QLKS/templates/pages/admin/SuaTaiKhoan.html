{% extends "page/layout1.html" %}

{% block title %}Sửa tài khoản{% endblock %}

{% block content %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const roleField = document.getElementById('id_role');
        const manvField = document.getElementById('id_manv').parentElement;
        const makhField = document.getElementById('id_makh').parentElement;

        function toggleFields() {
            if (roleField.value === 'admin') {
                manvField.style.display = 'block';
                makhField.style.display = 'none';
            } else if (roleField.value === 'customer') {
                manvField.style.display = 'none';
                makhField.style.display = 'block';
            } else {
                manvField.style.display = 'none';
                makhField.style.display = 'none';
            }
        }

        roleField.addEventListener('change', toggleFields);
        toggleFields();  // Initial call to set correct display on page load
    });
</script>
<h2 class="w-100 text-center p-3 text-danger">Sửa tài khoản</h2>
<div class="card w-50 m-auto">
    <div class="card-body">
        
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <div class="mt-3 text-center">
                <button class="btn btn-outline-success" type="submit">Save</button>
                </div>
        </form>
        </div>
    </div>
        {% endblock %}
